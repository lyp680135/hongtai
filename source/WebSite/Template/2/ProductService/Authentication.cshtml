@page "{tid:int}-{p:int}.html"
@inject ICMSService _cmsService
@inject IContentGroupService _contentService
@{
    ViewData["Title"] = "质量认证";
    ViewData["Desc"] = "质量认证";
}
@functions{
    private int pageSize = 6;

    public int NewsTypeId { get; set; }

    public int PageIndex { get; set; }

    public int PageCount { get; set; }

    public List<Dictionary<string, object>> dict { get; set; }

    public List<DataLibrary.SiteModelColumn> NewsType { get; set; }

    public new int Page { get; set; }

    public void OnGet(int? tid, int? p)
    {
        this.Page = p ?? 1;
        var AllNews = _cmsService.IcontentColumnDataService.GetContentColumnDataList("质量认证", 1, 1000);
        this.PageCount = AllNews.Count;
        int Cid = _contentService.GetSiteCategoryByName("质量认证").Id;
    }
}
@section head{

}


<!-- 主体 -->

<div id="main" class="part">

    <ul id="menu" class="fl">
        <li>
            <a href="/ProductService/0-1.html">
                <i class="icon-chevron-right"></i>产品电子目录
            </a>
        </li>
        <li>
            <a href="/ProductService/Process">
                <i class="icon-chevron-right"></i>工艺流程
            </a>
        </li>
        <li>
            <a href="/ProductService/Standard">
                <i class="icon-chevron-right"></i>产品标准
            </a>
        </li>
        <li class="on">
            <a href="/ProductService/Authentication/0-1.html">
                <i class="icon-chevron-right/0-1.html"></i>质量认证
            </a>
        </li>
        <li>
            <a href="/ProductService/Sale">
                <i class="icon-chevron-right"></i>销售网络
            </a>
        </li>
    </ul>

    <div id="list" class="fr">
        <ul class="imglist">
            @{
                var Authentication = _cmsService.IcontentColumnDataService.GetContentColumnDataList("质量认证", Page, pageSize);
                if (Authentication != null)
                {
                    for (var i = 0; i < Authentication.Count; i++)
                    {
                        <li>
                            <a target="_self" href="/ProductService/Authentication_Detail/@Html.Raw(Authentication[i]["cid"]+"/"+Authentication[i]["Id"]+".html")">
                                <img src="@Html.Raw(Authentication[i]["Image"])" />@Html.Raw(Authentication[i]["Title"])
                            </a>
                        </li>
                    }
                }
            }
        </ul>
        <div class="clearit"></div>
        <div id="Pagination">
            @await Component.InvokeAsync("PageList", new { PageSize = this.pageSize, PageIndex = this.Page, PageCount = this.PageCount, PageUrl = Model.NewsTypeId + "-{0}.html", PageText = "{0}", ShowCount = 6, ShowAll = false })

        </div>
    </div>
</div>